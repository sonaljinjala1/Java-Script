<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ADD TRO CART</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <header style="background-color:#025a2e ;">
    <div class="container">
      <nav class="navbar " style="background-color:#005b2d ;">
        <div class="container-fluid">
          <a class="navbar-brand" style="font-size: 25px; font-weight: 600; color: white;">SJK</a>
          <form class="d-flex" role="search">
            <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
            <a class=" btn1   nav-link active bg-white  " aria-current="page" href="cart.html"
              style="border-radius: 10px; padding: 10px 20px; font-weight: 600; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; color: black ">Cart</a>
          </form>
        </div>
      </nav>
    </div>
  </header>

  <div class="container">
    <h2 align="center" class="mt-5" style="font-weight: 600; font-size: 40px;">Restaurant</h2>
    <div class="row" id="product">

    </div>
  </div>





  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script type="text/javascript">

    let product = [
      {
        id: 1,
        name: "pizza",
        price: 150,
        qty: 1,
        image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSErxfqqeo-EBMv8dQ_jtVzQ8im2HwtSavgAg&s",
      },
      {
        id: 2,
        name: "Roasted Vegetable Burger",
        price: 100,
        qty: 1,
        image: "https://www.archanaskitchen.com//images/archanaskitchen/World_Sandwiches_Burgers_Wraps/Roasted_Vegetable_Burger_Recipe_with_Hummus-1.jpg",
      },
      {
        id: 3,
        name: "Veg Momos ",
        price: 150,
        qty: 1,
        image: "https://www.cookclickndevour.com/wp-content/uploads/2016/11/whole-wheat-momos-recipe-2.jpg",
      },
      {
        id: 4,
        name: "Vegetable Sandwich",
        price: 200,
        qty: 1,
        image: "https://www.foodandwine.com/thmb/gv06VNqj1uUJHGlw5e7IULwUmr8=/1500x0/filters:no_upscale():max_bytes(150000):strip_icc()/2012-r-xl-vegetable-sandwich-with-dill-sauce-2000-0984c1b513ae4af396aee039afa5e38c.jpg",
      },
      {
        id: 5,
        name: "VADA PAV",
        price: 100,
        qty: 1,
        image: "https://i.ytimg.com/vi/Z9Y60u8tI9M/maxresdefault.jpg",
      },
      {
        id: 6,
        name: "Veg Manchow Soup",
        price: 120,
        qty: 1,
        image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRtUk1NSAhqLfmpul7DLjdKdDvW-PgYePqQMw&s",
      },
      {
        id: 7,
        name: "Vegetable Salad ",
        price: 130,
        qty: 1,
        image: "https://static.toiimg.com/thumb/58892854.cms?imgsize=297936&width=800&height=800",
      },
      {
        id: 8,
        name: "Samosa Chaat",
        price: 140,
        qty: 1,
        image: "https://www.cookwithmanali.com/wp-content/uploads/2019/09/Samosa-Chaat.jpg",
      },
    ];

    const getProduct = () => {
      let tbl = "";
      product.map((val, index) => {
        tbl += `
                <div class="col-lg-3 mt-5">
                   <div class="card p-2">
                    <img src="${val.image}" class="card-img-top" alt="...">
                     <div class="card-body">
                       <h5 class="card-title">${val.name}</h5>
                       <p>Price : ${val.price} </p>
                       <button  onclick="addToCart(${val.id})"   class="btn btn-success">Add To Cart</button>
                     </div>
                   </div>
                 </div>

                `
      })
      document.getElementById('product').innerHTML = tbl;
    }
    getProduct();

    let cart = [];
    const addToCart = (pid) => {
      let allcart = JSON.parse(localStorage.getItem('cart')) ? JSON.parse(localStorage.getItem('cart')) : []
      let dup = allcart.find(val => val.id == pid);
      if (dup) {
        alert("Already Exists Your Cart");
        return false;
      }

      product.map((val, i) => {
        if (val.id == pid) {
          if (localStorage.getItem('cart') === null || localStorage.getItem('cart') === undefined) {
            cart.push(val);
            localStorage.setItem('cart', JSON.stringify(cart))
          }
          else {
            let oldproductdata = JSON.parse(localStorage.getItem('cart'));
            oldproductdata.push(val);
            localStorage.setItem('cart', JSON.stringify(oldproductdata))
          }
        }
      })
      alert("Product Successfully Add");
    }
  </script>
</body>

</html>